import{r as o,u as w,j as e}from"./index-DN1ZKjAB.js";const v=u=>{const h={...w(),...u},{areas:n,featuredProperties:c=[]}=h,i=o.useRef(null),d=o.useRef([]),[j,g]=o.useState(-1);return o.useEffect(()=>{if(n.length===0)return;const t=()=>{const l=document.getElementById("search-map");if(!l)return;const a=n.filter(s=>s.latitude&&s.longitude);let m={lat:37.7749,lng:-122.4194},f=10;a.length>0&&(m={lat:a[0].latitude,lng:a[0].longitude},f=11);const p=[{featureType:"all",elementType:"geometry",stylers:[{color:"#162238"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#0d121a"},{weight:2}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#e6e7e8"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000f26"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#89aae4"}]}];if(i.current=new window.google.maps.Map(l,{center:m,zoom:f,styles:p,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,gestureHandling:"greedy"}),a.forEach((s,r)=>{const x=new window.google.maps.Marker({position:{lat:s.latitude,lng:s.longitude},map:i.current,title:s.name,label:{text:`${r+1}`,color:"#ffffff",fontSize:"14px",fontWeight:"bold"},icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:16,fillColor:"#0066FF",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3}});x.addListener("click",()=>{g(r)}),d.current.push(x)}),d.current.length>1){const s=new window.google.maps.LatLngBounds;a.forEach(r=>{s.extend({lat:r.latitude,lng:r.longitude})}),i.current.fitBounds(s)}};if(typeof window.google>"u"||!window.google.maps){const l=document.createElement("script");l.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAMH3mSJD1zFkeUW0jhHFc9YUiBO5vHs8Y",l.async=!0,l.defer=!0,l.onload=t,document.head.appendChild(l)}else t()},[n]),e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"relative w-full h-[500px] rounded-3xl overflow-hidden shadow-lg border-2 border-gray-200",children:[e.jsx("div",{id:"search-map",className:"w-full h-full"}),e.jsx("button",{className:"absolute top-4 right-4 z-20 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),c.length>0&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 pb-6 px-4 z-10",children:e.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"flex gap-2 min-w-max",children:c.map(t=>e.jsxs("div",{className:"bg-white overflow-hidden flex-shrink-0 cursor-pointer transition-shadow",style:{width:"355px",minHeight:"140px",borderRadius:"22px"},children:[e.jsxs("div",{className:"grid grid-cols-[72px_1fr] gap-2 p-2",children:[e.jsx("div",{className:"w-[72px] h-[72px] bg-gray-200 rounded-2xl overflow-hidden flex-shrink-0",children:t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.address,className:"w-full h-full object-cover",onError:l=>{l.target.src="https://via.placeholder.com/72x72?text=No+Image"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs bg-gray-100",children:"No Image"})}),e.jsxs("div",{className:"flex flex-col justify-start pt-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm text-gray-900 mb-1 truncate",children:t.address}),t.subtitle&&e.jsx("div",{className:"text-xs text-gray-600 mb-1 truncate",children:t.subtitle}),e.jsxs("div",{className:"text-xs text-gray-600 line-clamp-1",children:[e.jsx("span",{className:"font-bold",children:t.price>0?t.price:0})," homes for sale"]})]})]}),t.description&&e.jsx("div",{className:"px-2 pb-2 pt-0",children:e.jsx("p",{className:"text-xs text-gray-700 leading-relaxed line-clamp-2",children:t.description})})]},t.id))})})})]})})};export{v as Z};
