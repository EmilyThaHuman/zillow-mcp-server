import{r as i,u as E,j as e}from"./index-DN1ZKjAB.js";const R=b=>{const N={...E(),...b},{maxHomePrice:v,monthlyPayment:w,interestRate:j,annualIncome:r,downPayment:a,creditScore:o,monthlyDebts:n,latitude:g,longitude:f}=N,h=i.useRef(null),[c,y]=i.useState(!1),[s,d]=i.useState({annualIncome:r||12e4,monthlyDebts:n||500,creditScore:o||715,downPayment:a||4e4}),[m,S]=i.useState(w),[C,P]=i.useState(v),$=l=>{const t=(j||6.5)/100/12,u=30*12,p=l*((Math.pow(1+t,u)-1)/(t*Math.pow(1+t,u)));return Math.round(p+(a||4e4))},k=l=>{const t=Number(l.target.value);S(t),P($(t))};i.useEffect(()=>{const l=()=>{const t=document.getElementById("buyability-map");if(!t)return;const u={lat:g||47.6062,lng:f||-122.3321},p=[{featureType:"all",elementType:"geometry",stylers:[{color:"#162238"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#0d121a"},{weight:2}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#e6e7e8"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000f26"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#89aae4"}]}];h.current=new window.google.maps.Map(t,{center:u,zoom:12,styles:p,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,gestureHandling:"greedy"}),new window.google.maps.Marker({position:u,map:h.current,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:"#8b5cf6",fillOpacity:1,strokeColor:"#ffffff",strokeWeight:3}})};if(typeof window.google>"u"||!window.google.maps){const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDtuTAbw4SXbJelngVprsN0hkIB3TFQ8YY",t.async=!0,t.defer=!0,t.onload=l,document.head.appendChild(t)}else l()},[g,f]);const M=r||a||o||n,T=()=>{d({annualIncome:r||12e4,monthlyDebts:n||500,creditScore:o||715,downPayment:a||4e4})},I=()=>{y(!1)},x=l=>l.toLocaleString();return e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"relative w-full h-[500px] rounded-3xl overflow-hidden shadow-lg border-2 border-gray-200",children:[e.jsx("div",{id:"buyability-map",className:"w-full h-full"}),e.jsx("button",{className:"absolute top-4 right-4 z-20 w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),e.jsx("div",{className:"absolute top-0 right-0 w-[480px] h-full bg-white/95 backdrop-blur-sm shadow-2xl overflow-y-auto",children:e.jsxs("div",{className:"p-6 flex flex-col h-full gap-1",children:[e.jsxs("div",{className:"text-sm text-gray-700 mb-6",children:["BuyAbility",e.jsx("sup",{className:"text-xs",children:"SM"})," Calculator"]}),e.jsxs("div",{className:"text-2xl font-normal text-gray-900 mb-4 leading-tight",children:["Price Point: $",C.toLocaleString()]}),e.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[e.jsxs("div",{className:`relative w-full h-1 bg-gray-200 rounded-full overflow-hidden ${c?"opacity-50 pointer-events-none":""}`,children:[e.jsx("div",{className:"absolute h-full bg-gray-400 rounded-full",style:{width:`${(m-620)/4380*100}%`}}),e.jsx("input",{type:"range",min:"620",max:"5000",step:"50",value:m,onChange:k,disabled:c,className:"absolute inset-0 w-full h-full opacity-0 cursor-grab active:cursor-grabbing disabled:cursor-not-allowed z-10"}),e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -translate-x-1/2 w-6 h-6 bg-white border-2 border-gray-400 rounded-full shadow-md pointer-events-none ",style:{left:`${(m-620)/4380*100}%`}})]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["I'm comfortable spending ",e.jsxs("span",{className:"font-bold underline",children:["$",m.toLocaleString()]})," per month"]})]}),e.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Assumptions"}),c?e.jsx("button",{onClick:T,className:"text-gray-700 font-bold text-sm hover:underline",children:"Reset"}):e.jsx("button",{onClick:()=>y(!0),className:"text-blue-600 font-bold text-sm hover:underline",children:"Edit"})]}),!c&&M&&e.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[e.jsxs("p",{className:"text-base text-gray-700",children:[r&&`$${(r/1e3).toFixed(0)}K income`,r&&a&&" · ",a&&`$${a.toLocaleString()} down payment`]}),e.jsxs("p",{className:"text-base text-gray-700",children:[n&&`$${n}/mo debt`,n&&o&&" · ",o&&` ${Math.floor(o/20)*20} - ${Math.floor(o/20)*20+19} credit score`]})]}),c&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("form",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Annual income"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-700",children:"$"}),e.jsx("input",{type:"text",value:x(s.annualIncome),onChange:l=>{const t=l.target.value.replace(/,/g,"");isNaN(Number(t))||d({...s,annualIncome:Number(t)})},className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"80000"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Monthly debt"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-700",children:"$"}),e.jsx("input",{type:"text",value:x(s.monthlyDebts),onChange:l=>{const t=l.target.value.replace(/,/g,"");isNaN(Number(t))||d({...s,monthlyDebts:Number(t)})},className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1200"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Credit score"}),e.jsx("input",{type:"text",value:s.creditScore,onChange:l=>{const t=l.target.value;isNaN(Number(t))||d({...s,creditScore:Number(t)})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"715"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Down payment"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-700",children:"$"}),e.jsx("input",{type:"text",value:x(s.downPayment),onChange:l=>{const t=l.target.value.replace(/,/g,"");isNaN(Number(t))||d({...s,downPayment:Number(t)})},className:"w-full pl-7 pr-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"20000"})]})]})]}),e.jsx("button",{onClick:I,className:"w-full mt-3 py-2 bg-white border-2 border-gray-900 text-gray-900 font-bold text-sm rounded-full hover:bg-gray-50 transition-colors",children:"Save"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 text-center leading-relaxed mt-auto pt-4",children:"Zillow Home Loans is an equal housing lender. NMLS#10287"})]})})]})})};export{R as Z};
